;/*FB_PKG_DELIM*/

__d("MWChatTabSharedQPLAnnotations",["I64","MAWCurrentUser","MAWMIC","MAWOfflineQueueStatus","MWChatMessagesOnChatTabLoadTracker","MultipleTabsLogger","promiseDone","requireDeferred","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWThreadCutover").__setRef("MWChatTabSharedQPLAnnotations");function j(a){return a===15||a===16}function a(a,b,e){var f=(h||(h=d("I64"))).to_string(e),g=b!=null?j(b):!1;a.addAnnotation("thread_id",f);a.addAnnotation("thread_type",b?b.toString():"");a.addAnnotationBoolean("is_secure",g);d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotationInt("is_tlc_public_user",d("MAWCurrentUser").isTlcPublicUser()?1:0);a.setTracePolicy("comet.messenger.chat_tab."+(j(b)?"secure":"open"));g=d("MAWOfflineQueueStatus").getAllThreadsWithOfflineQueueIncomplete().length>0;a.addAnnotationBoolean("has_pending_or_inprogress_oq_threads",g);d("MAWMIC").duringMIC()&&(a.addAnnotationInt("startedDuringMIC",1),a.addMarkerPoint("MIC_dependency_start","AppTiming"),c("promiseDone")(d("waitForMAWMIC").promise,function(){a.addMarkerPoint("MIC_dependency_end","AppTiming")}));i.onReady(function(b){c("promiseDone")(b.isCutoverThreadKey(e).then(function(b){a.addAnnotationInt("is_cutover",b?1:0)}))});a.onComplete(function(){var b=d("MWChatMessagesOnChatTabLoadTracker").getMessageSendsCountFor(f),c=d("MWChatMessagesOnChatTabLoadTracker").getMessageReceivesCountFor(f);a.addAnnotationInt("messagesSent",b);a.addAnnotationInt("messagesReceived",c);a.addAnnotationInt("totalMessages",c+b);d("MWChatMessagesOnChatTabLoadTracker").clearMessageCountsFor(f)})}g.isSecure=j;g.addSharedAnnotations=a}),98);
__d("PolarisDirectThreadMobile.react",["IGDMobileThreadPlaceholder.react","IGDThreadContainer.react","PolarisDirectInboxMetaManager.react","PolarisDirectMobileWrapper.react","PolarisDirectStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.presenceSetupQueryRef,f=a.threadPointQueryRef;a=a.viewerQueryRef;var g,h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("PolarisDirectInboxMetaManager.react"),{id:"DirectThreadPage",title:d("PolarisDirectStrings").INBOX_STRING}),h=i.jsx(c("IGDMobileThreadPlaceholder.react"),{}),b[0]=g,b[1]=h):(g=b[0],h=b[1]);var j;b[2]!==f?(j=i.jsx(c("IGDThreadContainer.react"),{threadPointQueryRef:f}),b[2]=f,b[3]=j):j=b[3];b[4]!==e||b[5]!==j||b[6]!==a?(f=i.jsx(c("PolarisDirectMobileWrapper.react"),{metadataManager:g,placeholder:h,presenceSetupQueryRef:e,viewerQueryRef:a,children:j}),b[4]=e,b[5]=j,b[6]=a,b[7]=f):f=b[7];return f}g["default"]=a}),98);